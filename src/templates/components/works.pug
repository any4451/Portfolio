script(type='text/x-template')#preview-container
    .works-preview(v-if="works.length")
        display(
            :works="works"
            :currentWork="currentWork"
            :currentIndex="currentIndex"
            @slide="slide"
        )
        info(
            :currentWork ="currentWork"
        )

script(type='text/x-template')#preview-display
    .works-preview__pics(:data-slide='currentIndex + 1')
        img(:src="currentWork.photo").works-preview__img
        .works-preview__thumbs
                thumbs(
                    :works="works"
                    :currentWork="currentWork"
                )
        .works-preview__btns
                btns(
                   @slide="direction => $emit('slide', direction)"
                )


script(type='text/x-template')#preview-thumbs
    ul.thumbs 
        li.thumbs__item(v-for="slide in works" :key="slide.id" :class="{active: currentWork.id === slide.id}")
           button.thumbs__link
                img(:src="slide.photo").works-preview__img

script(type='text/x-template')#preview-btns
    .square-btns
        button(type='button' @click="$emit('slide', 'prev')").square-btns__item.square-btns__item--next
            +icon('arrow', 'arrow') 
        button(type='button' @click="$emit('slide', 'next')").square-btns__item.square-btns__item--prev
            +icon('arrow', 'arrow arrow-up') 


script(type='text/x-template')#preview-info
    .works-preview__info
        tags(
            :tags = "tagsArray"
        )
        h3.works-preview__title {{currentWork.title}}
        .works-preview__desc
            p {{currentWork.desc}}
        a(v-bind:href="currentWork.link" target="_blank").iconed-link
            +icon('link', 'link-icon') 
            p Посмотреть сайт

script(type='text/x-template')#preview-tags
    ul.tags
        li.tags__item(v-for="tag in tags")  
            .tag {{tag}}